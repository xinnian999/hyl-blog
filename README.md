## 简介

在前端技术不断进化得时代，想要站稳脚跟，必须养成一个良好学习习惯。而博主又是一个自制力很差得人，闲下来就只想打两盘游戏。想坚持每天学习一俩小时，也像想锻炼身体一样总是坚持不下去。而为了学而去学，对我来说效率也是很低的。

后来某一天我就突发奇想，既然我是一个前端，为啥不做一个只属于自己的网站，用来学习，记录自己。这样应该更有成就感且学起来也有动力，还能把自己的所学展示给别人看。

我先是尝试了 vuepress 和 Hexo 等静态博客。但这类博客只可少量定制化，没有后台管理，每次更新文章还得重新发版，非常难受。我希望我自己的博客在我手中完全可控，一丝一毫都可以被我掌握，通过后台管理页面，可以实时更新、发布文章，非常方便这样才显得安心和舒适。

于是在 22 年 4 月份开始，我才下定决心，从零开始一点一点码出了这个博客，前端、后端、部署上线，域名配置均由我自己独立完成。求指点~

![图片已失效](https://cdn.hyl999.co/public/image/1677815362749.png)

## 目录解构

| 目录       | 描述               |
| ---------- | ------------------ |
| assets     | 静态目录           |
| components | 公共组件           |
| hooks      | 自定义 react-hooks |
| Layout     | 博客布局           |
| style      | 公共样式           |
| utils      | 公共工具函数       |
| views      | 所有路由模块       |

## 运行项目

克隆代码后，运行以下命令:

### `npm i`

安装依赖

### `npm run dev`

本地运行代码

### `npm run build`

打包代码

### `npm run deploy`

部署代码

## 实现功能

### 前台

1. 首页、文章、日志、留言、友情链接、作品、关于等页面模块。
2. 登录（包括 qq 和微信登录）
3. 主题切换、黑夜模式、回到顶部 (下拉-右下角悬浮按钮)
4. 用户可以评论与回复、以及邮件通知回复的状态
5. 背景音乐（左下角播放器）
6. 文章锚点导航
7. 文章置顶
8. 移动端适配：媒体查询+rem
9. 免费 chatgpt，官方 api 接口，无需梯子，速度快
   ....

![图片已失效](https://cdn.hyl999.co/public/image/1677815433828.png)

### 后台

所有前台数据的增删改查、登录、游客访问

![图片已失效](https://cdn.hyl999.co/public/image/1677815507515.png)

### 域名

可以省略域名前缀访问

http 访问自动跳转 https

## 技术栈

`博客前台：(基于CRA搭建) react18 + antd5 + redux + tsx`

因为自己最擅长 react，工作用的也是。最近已经才升级到 antd5，解决了好久兼容问题...

`博客后台：(基于vue-cli搭建) vue3 + element plus`

为了方便管理博客数据，选 vue 是因为我想双修哈哈

`后端：(自建nodejs后台项目) koa2 + mysql`

第一次尝试自己写后端，也因此系统学习了 node,并用它操作数据库。博客前后台共用这一个后端

`部署上线：腾讯云CentOS + nginx + pm2`

第一次尝试自己上线项目，租了一台最低档学生机（24 周岁以下可以买，一年 100 多哈哈）。

搭建并学习了 nginx，把前端打包好放到服务器上用 nginx 做映射，配置反向代理解决跨域问题，最后用 pm2 部署后端 node 项目，搭建好了 mysql。

`域名`

30 一年买了个域名，备案一周终于通过。将服务器公网 ip 映射到域名上，再去 nginx 配置一下证书，至此就可以通过域名访问我的网站了！

## 性能优化

- 全站使用了 cdn 加速
- 全站静态资源设置了强缓存
- 全站使用了 http2
- 所有图片使用了懒加载
- 所有路由模块使用了懒加载
- 背景图、背景音乐使用了预加载
- 文章，日志等使用了下拉加载
- 文章搜索防抖，下拉监听使用节流
- 网站首次加载有 loading 效果，而不是白屏

## 目录结构

| 目录       | 描述                     |
| ---------- | ------------------------ |
| assets     | 静态目录                 |
| components | 公共组件                 |
| config     | router、store 等配置文件 |
| hooks      | 自定义 hooks             |
| Layout     | 博客布局                 |
| style      | 公共样式                 |
| types      | 全局 typescript 类型定义 |
| utils      | 公共工具函数             |
| views      | 所有路由模块             |

## 特别说明

除了 react、antd，其他我尽量使用自己封装的组件，hooks，工具函数等。基本没有使用第三方的依赖。一是为了减小代码体积，二是培养自己的封装能力

我已经把我这个网站封装的所有函数做成了一个 npm 包《npm i hyl-utils》。有 ajax、cookie、时间格式化等工具函数，都是使用原生 js 封装，如果有需要也可以自取的哈
